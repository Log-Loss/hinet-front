webpackJsonp([19],{1082:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPostsByUser=t.deleteLike=t.addLike=t.deleteComment=t.addComment=t.getComments=t.deletePost=t.updatePost=t.addPost=t.getPost=t.getAllPosts=void 0;var r=a(118),u=n(r),s=a(290),o=n(s),c=(t.getAllPosts=function(){var e=(0,o.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts"));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getPost=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/post?postId="+t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addPost=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/add",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.updatePost=function(){var e=(0,o.default)(u.default.mark(function e(t){var a=t.postId,n=t.params;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/post?post_id="+a,{method:"POST",body:n}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deletePost=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/post?postId="+t,{method:"DELETE"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getComments=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/comment?postId="+t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addComment=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/comment/add",{method:"POST",body:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteComment=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/comment?postId="+t,{method:"DELETE"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addLike=function(){var e=(0,o.default)(u.default.mark(function e(t){var a=t.postId,n=t.userId;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/comment?postId="+a+"&userId="+n,{method:"POST"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteLike=function(){var e=(0,o.default)(u.default.mark(function e(t){var a=t.postId,n=t.userId;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/posts/comment?postId="+a+"&userId="+n,{method:"DELETE"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getPostsByUser=function(){var e=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)(p+"/user/posts?userId="+t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(298),a(291)),d=n(c),p="http://hi-net-community-server.azurewebsites.net"},694:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(7),u=n(r),s=a(285),o=n(s),c=a(118),d=n(c);a(286);var p=a(1082);t.default={namespace:"post",state:{list:[],item:{},loading:!0,commentLoading:!0,comments:[]},effects:{fetchList:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeLoading",payload:!0});case 2:return e.next=4,u(p.getAllPosts,r);case 4:if(n=e.sent,!Array.isArray(n)){e.next=10;break}return e.next=8,s({type:"saveList",payload:n});case 8:e.next=11;break;case 10:o.default.error({message:"get posts failed!"});case 11:return e.next=13,s({type:"changeLoading",payload:!1});case 13:case"end":return e.stop()}},e,this)}),fetchUserList:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeLoading",payload:!0});case 2:return e.next=4,u(p.getPostsByUser,r);case 4:if(n=e.sent,!Array.isArray(n)){e.next=10;break}return e.next=8,s({type:"saveList",payload:n});case 8:e.next=11;break;case 10:o.default.error({message:"get posts failed!"});case 11:return e.next=13,s({type:"changeLoading",payload:!1});case 13:case"end":return e.stop()}},e,this)}),fetch:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeLoading",payload:!0});case 2:return e.next=4,u(p.getPost,r);case 4:if(n=e.sent,!n.postId){e.next=10;break}return e.next=8,s({type:"save",payload:n});case 8:e.next=11;break;case 10:o.default.error({message:"get post failed!"});case 11:return e.next=13,s({type:"changeLoading",payload:!1});case 13:case"end":return e.stop()}},e,this)}),add:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeLoading",payload:!0});case 2:return e.next=4,u(p.addPost,r);case 4:return n=e.sent,e.next=7,s({type:"changeLoading",payload:!1});case 7:case"end":return e.stop()}},e,this)}),put:d.default.mark(function e(t,a){var n,r,u=t.payload,s=a.call,o=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.postId,r=u.params,e.next=3,o({type:"changeLoading",payload:!0});case 3:return e.next=5,s(p.updatePost,{postId:n,params:r});case 5:return e.next=7,o({type:"changeLoading",payload:!1});case 7:case"end":return e.stop()}},e,this)}),remove:d.default.mark(function e(t,a){var n=t.payload,r=a.call,u=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeLoading",payload:!0});case 2:return e.next=4,r(p.deletePost,n);case 4:return e.next=6,u({type:"changeLoading",payload:!1});case 6:case"end":return e.stop()}},e,this)}),fetchComments:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeCommentLoading",payload:!0});case 2:return e.next=4,u(p.getComments,r);case 4:if(n=e.sent,!Array.isArray(n)){e.next=10;break}return e.next=8,s({type:"saveComments",payload:n});case 8:e.next=11;break;case 10:o.default.error({message:"get comments failed!"});case 11:return e.next=13,s({type:"changeCommentLoading",payload:!1});case 13:case"end":return e.stop()}},e,this)}),addComment:d.default.mark(function e(t,a){var n,r=t.payload,u=a.call,s=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"changeCommentLoading",payload:!0});case 2:return e.next=4,u(p.addComment,r);case 4:return n=e.sent,e.next=7,s({type:"changeCommentLoading",payload:!1});case 7:case"end":return e.stop()}},e,this)})},reducers:{saveList:function(e,t){return(0,u.default)({},e,{list:t.payload})},saveComments:function(e,t){return(0,u.default)({},e,{comments:t.payload})},save:function(e,t){return(0,u.default)({},e,{item:t.payload})},changeLoading:function(e,t){return(0,u.default)({},e,{loading:t.payload})},changeCommentLoading:function(e,t){return(0,u.default)({},e,{commentLoading:t.payload})}}},e.exports=t.default}});